(this.webpackJsonpcollabnotes=this.webpackJsonpcollabnotes||[]).push([[0],{232:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t),n.d(t,"rootReducer",(function(){return L}));var r=n(33),o=n.n(r),i=n(12),a=n(23),s=n(90),c=n(91),u=n(52),l=n(5),d=n(6),j=n(18),h=n(17),f=n(16),b=n(4),p=function e(){Object(d.a)(this,e),this.apiKey=void 0,this.username=void 0,this.password=void 0,this.accessToken=void 0},v=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(function(){function e(t,n,r){Object(d.a)(this,e),this.basePath="http://localhost:8080",this.defaultHeaders=[],this.defaultExtraJQueryAjaxSettings=void 0,this.configuration=new p,t&&(this.basePath=t),n&&(this.configuration=n),r&&(this.defaultExtraJQueryAjaxSettings=r)}return Object(f.a)(e,[{key:"extendObj",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},{key:"addItem",value:function(e,t,n,r){var o=this.basePath+"/rest/note/{id}/{version}/item/{itemtext}".replace("{id}",encodeURIComponent(String(e))).replace("{version}",encodeURIComponent(String(t))).replace("{itemtext}",encodeURIComponent(String(n))),i={};if(null===e||void 0===e)throw new Error("Required parameter id was null or undefined when calling addItem.");if(null===t||void 0===t)throw new Error("Required parameter version was null or undefined when calling addItem.");if(null===n||void 0===n)throw new Error("Required parameter itemtext was null or undefined when calling addItem.");var a={url:o=o+"?"+b.param({}),type:"POST",headers:i,processData:!1};i["Content-Type"]&&(a.contentType=i["Content-Type"]),r&&(a=Object.assign(a,r)),this.defaultExtraJQueryAjaxSettings&&(a=Object.assign(a,this.defaultExtraJQueryAjaxSettings));var s=b.Deferred();return b.ajax(a).then((function(e,t,n){return s.resolve({response:n,body:e})}),(function(e,t,n){return s.reject({response:e,errorThrown:n})})),s.promise()}},{key:"allNotes",value:function(e){var t=this.basePath+"/rest/note/all",n={},r={url:t=t+"?"+b.param({}),type:"GET",headers:n,processData:!1};n["Content-Type"]&&(r.contentType=n["Content-Type"]),e&&(r=Object.assign(r,e)),this.defaultExtraJQueryAjaxSettings&&(r=Object.assign(r,this.defaultExtraJQueryAjaxSettings));var o=b.Deferred();return b.ajax(r).then((function(e,t,n){return o.resolve({response:n,body:e})}),(function(e,t,n){return o.reject({response:e,errorThrown:n})})),o.promise()}},{key:"createNote",value:function(e,t){var n=this.basePath+"/rest/note/",r={};if(null===e||void 0===e)throw new Error("Required parameter body was null or undefined when calling createNote.");n=n+"?"+b.param({});r["Content-Type"]="application/json";var o={url:n,type:"POST",headers:r,processData:!1};o.data=JSON.stringify(e),r["Content-Type"]&&(o.contentType=r["Content-Type"]),t&&(o=Object.assign(o,t)),this.defaultExtraJQueryAjaxSettings&&(o=Object.assign(o,this.defaultExtraJQueryAjaxSettings));var i=b.Deferred();return b.ajax(o).then((function(e,t,n){return i.resolve({response:n,body:e})}),(function(e,t,n){return i.reject({response:e,errorThrown:n})})),i.promise()}},{key:"deleteNote",value:function(e,t,n){var r=this.basePath+"/rest/note/{id}/{version}".replace("{id}",encodeURIComponent(String(e))).replace("{version}",encodeURIComponent(String(t))),o={};if(null===e||void 0===e)throw new Error("Required parameter id was null or undefined when calling deleteNote.");if(null===t||void 0===t)throw new Error("Required parameter version was null or undefined when calling deleteNote.");var i={url:r=r+"?"+b.param({}),type:"DELETE",headers:o,processData:!1};o["Content-Type"]&&(i.contentType=o["Content-Type"]),n&&(i=Object.assign(i,n)),this.defaultExtraJQueryAjaxSettings&&(i=Object.assign(i,this.defaultExtraJQueryAjaxSettings));var a=b.Deferred();return b.ajax(i).then((function(e,t,n){return a.resolve({response:n,body:e})}),(function(e,t,n){return a.reject({response:e,errorThrown:n})})),a.promise()}},{key:"removeItem",value:function(e,t,n,r){var o=this.basePath+"/rest/note/{id}/{version}/item/{itemtext}".replace("{id}",encodeURIComponent(String(e))).replace("{version}",encodeURIComponent(String(t))).replace("{itemtext}",encodeURIComponent(String(n))),i={};if(null===e||void 0===e)throw new Error("Required parameter id was null or undefined when calling removeItem.");if(null===t||void 0===t)throw new Error("Required parameter version was null or undefined when calling removeItem.");if(null===n||void 0===n)throw new Error("Required parameter itemtext was null or undefined when calling removeItem.");var a={url:o=o+"?"+b.param({}),type:"DELETE",headers:i,processData:!1};i["Content-Type"]&&(a.contentType=i["Content-Type"]),r&&(a=Object.assign(a,r)),this.defaultExtraJQueryAjaxSettings&&(a=Object.assign(a,this.defaultExtraJQueryAjaxSettings));var s=b.Deferred();return b.ajax(a).then((function(e,t,n){return s.resolve({response:n,body:e})}),(function(e,t,n){return s.reject({response:e,errorThrown:n})})),s.promise()}}]),e}()),m=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return n}(function(){function e(t,n,r){Object(d.a)(this,e),this.basePath="http://localhost:8080",this.defaultHeaders=[],this.defaultExtraJQueryAjaxSettings=void 0,this.configuration=new p,t&&(this.basePath=t),n&&(this.configuration=n),r&&(this.defaultExtraJQueryAjaxSettings=r)}return Object(f.a)(e,[{key:"extendObj",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},{key:"stats",value:function(e){var t=this.basePath+"/rest/stats",n={},r={url:t=t+"?"+b.param({}),type:"GET",headers:n,processData:!1};n["Content-Type"]&&(r.contentType=n["Content-Type"]),e&&(r=Object.assign(r,e)),this.defaultExtraJQueryAjaxSettings&&(r=Object.assign(r,this.defaultExtraJQueryAjaxSettings));var o=b.Deferred();return b.ajax(r).then((function(e,t,n){return o.resolve({response:n,body:e})}),(function(e,t,n){return o.reject({response:e,errorThrown:n})})),o.promise()}}]),e}());var O="SET_NOTES",x="SET_STATS",y="CREATE_NOTE",w="DELETE_NOTE",g="ADD_ITEM",E="REMOVE_ITEM";function T(e,t){return function(n){return function(e){return new Promise((function(t,n){(new v).createNote(e).then((function(e){t(e.body)}))}))}(e).then((function(r){n({type:y,note:{id:r,version:0,title:e,items:[]}}),t(r)}))}}function I(e){return function(t){return function(e){return new Promise((function(t,n){(new v).deleteNote(e.id,e.version).then((function(e){t(e.body)}))}))}(e).then((function(n){n.ok?t({type:w,note:e}):alert(n.error)}))}}function S(e,t){return function(n){return function(e,t){return new Promise((function(n,r){(new v).addItem(e.id,e.version,t).then((function(e){n(e.body)}))}))}(e,t).then((function(r){r.ok?n({type:g,note:e,item:t}):alert(r.error)}))}}function N(e,t){return function(n){return function(e,t){return new Promise((function(n,r){(new v).removeItem(e.id,e.version,t).then((function(e){n(e.body)}))}))}(e,t).then((function(r){r.ok?n({type:E,note:e,item:t}):alert(r.error)}))}}var C={notes:[],stats:{avgItems:0,items:0,notes:0}};var A=n(0),D=n.n(A),k=n(15),R=n(3),P=n(1),J=Object(i.b)((function(e){return{notes:e.collabNotes.notes,stats:e.collabNotes.stats}}))(function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(d.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.notes.map((function(e){return Object(P.jsx)("li",{children:Object(P.jsx)(k.b,{to:"/spa/viewnote/"+e.id,children:e.title})},e.id)}));return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("nav",{children:[Object(P.jsx)(k.b,{to:"/spa/newnote",children:"New Note"}),Object(P.jsx)("ul",{children:e})]}),Object(P.jsxs)("div",{children:["Total Notes: ",this.props.stats.notes]}),Object(P.jsxs)("div",{children:["Total Items: ",this.props.stats.items]}),Object(P.jsxs)("div",{children:["Average Items per Note: ",this.props.stats.avgItems]})]})}}]),n}(D.a.Component)),Q={deleteNote:I,addItem:S,removeItem:N},q=Object(i.b)((function(e){return{notes:e.collabNotes.notes}}),Q)((function(e){var t=Object(R.g)(),n=Object(R.h)().noteId,r=e.notes.filter((function(e){return e.id==n}));if(1!==r.length)return Object(P.jsx)(R.a,{to:"/spa/"});var o=r[0],i=o.items.map((function(t){return Object(P.jsxs)("li",{children:[t,Object(P.jsx)("button",{onClick:function(n){return r=t,void e.removeItem(o,r);var r},children:"Remove"})]},t)}));return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:o.title}),Object(P.jsx)(k.b,{to:"/spa/",children:"Back"}),Object(P.jsx)("p",{}),Object(P.jsx)("button",{onClick:function(n){return function(n){e.deleteNote(n),t.push("/spa/")}(o)},children:"Delete"}),Object(P.jsx)("p",{}),Object(P.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target;e.addItem(o,n.item.value)},children:[Object(P.jsx)("input",{type:"text",name:"item"}),Object(P.jsx)("input",{type:"submit",value:"Add Item"})]}),Object(P.jsx)("p",{}),Object(P.jsx)("ul",{children:i})]})})),U={createNote:T},_=Object(i.b)(null,U)((function(e){var t=Object(R.g)();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:"New Note"}),Object(P.jsx)(k.b,{to:"/spa/",children:"Back"}),Object(P.jsx)("br",{}),Object(P.jsx)("br",{}),Object(P.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=n.target;e.createNote(r.title.value,(function(e){t.push("viewnote/"+e)}))},children:[Object(P.jsx)("input",{type:"text",name:"title"}),Object(P.jsx)("input",{type:"submit",value:"Create"})]})]})})),M={createNote:T,deleteNote:I,addItem:S,removeItem:N,fetchAllNotes:function(){return function(e){return new Promise((function(e,t){(new v).allNotes().then((function(t){var n=t.body.map((function(e){return{id:e.id,title:e.title,version:e.version,items:e.items}}));e(n)}))})).then((function(t){return e({type:O,notes:t})}))}},fetchStats:function(){return function(e){return new Promise((function(e,t){(new m).stats().then((function(t){var n={avgItems:t.body.averageItems,items:t.body.items,notes:t.body.notes};e(n)}))})).then((function(t){return e({type:x,stats:t})}))}}},B=Object(i.b)((function(e){return{notes:e.collabNotes.notes,stats:e.collabNotes.stats}}),M)(function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(d.a)(this,n),(r=t.call(this,e)).state=C,r}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchAllNotes(),this.props.fetchStats()}},{key:"render",value:function(){return Object(P.jsx)(k.a,{children:Object(P.jsx)("div",{children:Object(P.jsxs)(R.d,{children:[Object(P.jsx)(R.b,{path:"/spa/newnote",component:_}),Object(P.jsx)(R.b,{path:"/spa/viewnote/:noteId",component:q}),Object(P.jsx)(R.b,{path:"/spa/",component:J})]})})})}}]),n}(D.a.Component)),L=(n(232),Object(a.c)({collabNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},{notes:[].concat(Object(u.a)(e.notes.slice()),[t.note]),stats:Object(l.a)({},e.stats)});case w:var n=e.notes.filter((function(e){return e.id!==t.note.id}));return Object(l.a)(Object(l.a)({},e),{},{notes:n});case g:var r=e.notes.map((function(e){if(t.note.id===e.id){var n=[].concat(Object(u.a)(e.items),[t.item]);return Object(l.a)(Object(l.a)({},e),{},{items:n,version:e.version+1})}return e}));return Object(l.a)(Object(l.a)({},e),{},{notes:r});case E:var o=e.notes.map((function(e){if(t.note.id===e.id){var n=e.items.filter((function(e){return e!==t.item}));return Object(l.a)(Object(l.a)({},e),{},{items:n,version:e.version+1})}return e}));return Object(l.a)(Object(l.a)({},e),{},{notes:o});case O:return Object(l.a)(Object(l.a)({},e),{},{notes:t.notes});case x:return Object(l.a)(Object(l.a)({},e),{},{stats:t.stats});default:return e}}})),F=Object(a.d)(L,Object(s.composeWithDevTools)(Object(a.a)(c.a))),G=document.getElementById("root");o.a.render(Object(P.jsx)(i.a,{store:F,children:Object(P.jsx)(B,{})}),G)}},[[233,1,2]]]);
//# sourceMappingURL=main.665b174d.chunk.js.map